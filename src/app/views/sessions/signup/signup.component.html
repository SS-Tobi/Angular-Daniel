<div class="card col-8 mx-auto o-hidden" [@animate]="{value:'*',params:{y:'120px',opacity:'0',delay:'100ms', duration: '400ms'}}">
  <div class="row">


    <div class="col-md-10 col-10 mx-auto" >

      <div class="p-4">

        <h1 class="mb-3 text-18">Sign Up</h1>
        <form [formGroup]="signupForm" (ngSubmit)="doSignup()">
          <div class="form-group">
            <label for="username">Your name</label>
            <input formControlName="full_name"
                   id="username" class="form-control form-control-rounded"
                   type="text">
            <span class="text-danger"
              *ngIf="signupForm.controls.full_name.dirty &&
                signupForm.controls.full_name.errors?.required
                "
            >
              Full name is required
            </span>

            <span class="text-danger"
                  *ngIf="signupForm.controls.full_name.dirty &&
                signupForm.controls.full_name.errors?.minlength
                "
            >
              Full name should be at least 5 characters
            </span>
          </div>
          <div class="form-group">
            <label for="email">Email address</label>
            <input id="email"
                   formControlName="email"
                   class="form-control form-control-rounded" type="email">

            <span class="text-danger"
                  *ngIf="signupForm.controls.email.dirty &&
                signupForm.controls.email.errors?.required
                "
            >
              Email is required
            </span>

            <span class="text-danger"
                  *ngIf="signupForm.controls.email.dirty &&
                signupForm.controls.email.errors?.email
                "
            >
              Email should be a valid email
            </span>

            <span class="text-danger"
                  *ngIf="signupForm.controls.email.dirty &&
                signupForm.controls.email.errors?.unique
                "
            >
              This email is already being used

            </span>

          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input id="password"
                   formControlName="password"
                   class="form-control form-control-rounded" type="password">

            <span class="text-danger"
                  *ngIf="signupForm.controls.password.dirty &&
                signupForm.controls.password.errors?.required
                "
            >
              Password is required
            </span>
            <span class="text-danger"
                  *ngIf="signupForm.controls.password.dirty &&
                signupForm.controls.password.errors?.minlength
                "
            >
              Password should be at least 8 characters long.
            </span>

            <span class="text-danger"
                  *ngIf="signupForm.controls.password.dirty &&
                signupForm.controls.password.errors?.match
                "
            >
              Password and confirm password should match.
            </span>
            <password-strength-meter [password]="signupForm.value.password"></password-strength-meter>
          </div>
          <div class="form-group">
            <label for="repassword">Confirm password</label>
            <input id="repassword"
                   formControlName="confirm_password"
                   class="form-control form-control-rounded" type="password">
            <span class="text-danger"
                  *ngIf="signupForm.controls.confirm_password.dirty &&
                signupForm.controls.confirm_password.errors?.required
                "
            >
              Confirm password is required
            </span>
            <span class="text-danger"
                  *ngIf="signupForm.controls.confirm_password.dirty &&
                signupForm.controls.confirm_password.errors?.minlength
                "
            >
              Confirm password should be at least 8 characters long.
            </span>

            <span class="text-danger"
                  *ngIf="signupForm.controls.confirm_password.dirty &&
                signupForm.controls.confirm_password.errors?.match
                "
            >
              Password and confirm password should match.
            </span>
            <password-strength-meter [password]="signupForm.value.confirm_password"></password-strength-meter>
          </div>

          <btn-loading btnClass="btn-primary btn-rounded btn-block mt-3" [loadingText]="loadingText" [loading]="loading">
            Sign up
          </btn-loading>
        </form>
        <div class="mt-3 text-center">
          <a  class="text-muted" routerLink="/sessions/signin"><u>Login</u></a>
        </div>
      </div>
    </div>
  </div>
</div>
